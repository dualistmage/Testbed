#include <boost/shared_ptr.hpp>

#include <map>
#include <sstream>
#include <iostream>
using namespace std;

class TEST
{
    public:
        int no_;
        TEST(int no) {
            no_ = no; 
            cout << no_ << " " << this << " Class created" << endl;
        }
        ~TEST() { 
            cout << no_ << " " << this << " Class destroyed" << endl; }
}; // end - class TEST


int main()
{
    std::map< std::string , boost::shared_ptr<TEST> > test;

    {
        boost::shared_ptr<TEST> t1( new TEST(1) );
        boost::shared_ptr<TEST> t2( new TEST(2) );
        boost::shared_ptr<TEST> t3( new TEST(3) );

        cout << "Step 1 --------------------------" << endl;
        test.insert( make_pair( "one" , t1 ) );
        test.insert( make_pair( "two" , t2 ) );
        test.insert( make_pair( "three" , t3 ) );
        cout << "Step 2 --------------------------" << endl;
    }

    cout << "test class 1 : " << test["one"]->no_ << endl;
    cout << "test class 2 : " << test["two"]->no_ << endl;
    cout << "test class 3 : " << test["three"]->no_ << endl;

    std::string t, t2("tet");
    t = t2 + "/";
    cout << "string : " << t << endl;

    test.clear();
}
